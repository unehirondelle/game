<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button onclick="openEnterOptionPrompt()">Click to start a game</button>
    <table>
        <tr>
            <th>You</th>
            <th>Computer</th>
        </tr>
        <tr>
            <td id="user">-</td>
            <td id="comp">-</td>
        </tr>
    </table>
    <p id="end"></p>
    <script>
        let userScore = 0;
        let compScore = 0;
        function openEnterOptionPrompt() {
            let userChoice = prompt("Enter rock, paper, or scissors!");
            let arr = ["rock", "paper", "scissors"];
            //array length is 3 but the last index is 2 - we don't need +1
            let comp = Math.floor(Math.random() * arr.length);
            let compChoice = arr[comp];
            console.log("comp's choise is " + compChoice);
            let result = "";
            if (userChoice == compChoice) {
                result = "You tie. Try again!"
            } else if ((userChoice == "rock" && compChoice == "scissors") || 
                (userChoice == "paper" && compChoice == "rock") ||
                (userChoice == "scissors" && compChoice == "paper")) {
                result = "You win!";
                userScore++;
            } else {
                result = "You lose!";
                compScore++;
            }
            console.log("compScore is " + compScore);
            console.log("userScore is " + userScore);
            document.getElementById("user").innerHTML = userScore;
            document.getElementById("comp").innerHTML = compScore;
            alert("Your choice: " + userChoice + "\nComputer's choice: " + compChoice + "\n" + result);
            openPlayAgainPrompt();
        }
        function openPlayAgainPrompt() {
            let play = prompt("Your score: " + userScore + "\nComputer's score: " + compScore + "\nDo you want to play again?", "Please enter yes or no");
            console.log("decision: " + play);
            if (play == "yes" || play == "Yes") {
                openEnterOptionPrompt();
            } else {
                let end = "Thank you for the game!";
                document.getElementById("end").innerHTML = end;
            }
        }
    </script>
</body>

</html>